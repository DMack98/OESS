<template id="template-endpoint-selection-modal">
  <div class="modal fade" tabindex="-1" role="dialog" id="endpoint-selection-modal-div">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header">
          <h4 class="endpoint-select-header" class="modal-title">Select an Endpoint</h4>
        </div>

        <div class="modal-body">
          <br/>

          <ul class="nav nav-tabs">
            <li role="presentation">
              <a id="basic" href="#basic-content" aria-controls="basic" role="tab" data-toggle="tab">By Entity</a>
            </li>
            <li role="presentation" class="active">
              <a id="advanced" href="#advanced-content" aria-controls="advanced" role="tab" data-toggle="tab">My Interfaces</a>
            </li>
          </ul>

          <div class="tab-content">
            <div role="tabpanel" id="basic-content" class="tab-pane">
              <br/>
              <div id="entity-selection-form">a</div>
            </div>
            <div role="tabpanel" id="advanced-content" class="tab-pane active">
              <br/>
              <div class="interface-selection-form">b</div>
            </div>
          </div>
        </div>
      </div>
     
    </div>
  </div>
</template>

<script>
 class EndpointSelectionModal {
   template = document.querySelector('#template-endpoint-selection-modal');

   onCancel = function(e) { console.log(e); $('#endpoint-selection-modal-div').modal('hide'); }
   onSubmit = function(e) { console.log(e); }

   constructor(parent) {
     this.parent = parent;
     this.parent.appendChild(document.importNode(this.template.content, true));

     this.onCancel = this.onCancel.bind(this);
     this.onSubmit = this.onSubmit.bind(this);

     this.display = this.display.bind(this);

     this.interfaceForm = new InterfaceSelectionForm(this.parent.querySelector('.interface-selection-form'));
     this.interfaceForm.loadInterfaces();
     this.interfaceForm.onCancel = this.onCancel;
   }

   display() {
     $('#endpoint-selection-modal-div').modal('show');
   }
 }
</script>
